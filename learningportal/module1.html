<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dispatch Services Knowledge Portal</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.7.0/css/all.css'
        integrity='sha384-lZN37f5CVYqb5Kg9GVRve7MBof8ckSZJE2aok8Jik/RdQh4jZt9SwhswgXu2wnFk' crossorigin='anonymous'>
</head>

<body>
    <style>
        .blackboard {
            background-color: #333;
            color: white;
            padding: 10px;
            border-radius: 5px;
        }

        @import url('https://fonts.googleapis.com/css2?family=Architects+Daughter&display=swap');

        .chalk-text {
            font-family: 'Architects Daughter', cursive;
        }

        .text-black {
            color: #000;
        }

        .cmd-box {
            background-color: #acaeb0;
            border: 1px solid #17191b;
            border-radius: 5px;
            padding: 0 0 25px 0;

            color: #000 !important;

        }

        .cmd-header {
            background-color: #17191b;
            color: #fff;
            padding: 10px;
            margin-bottom: 10px;
            border-top-left-radius: 5px;
            border-top-right-radius: 5px;
        }

        .smallfont {
            font-size: 10px;
            color: #fff
        }

        .smallfont:hover {
            font-size: 10px;
            color: #aa7171
        }

        .cmd-text {
            padding: 10px;
        }
    </style>

    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="index.html">DS Knowledge Portal</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item active">
                    <a class="nav-link" href="index.html">Home</a>
                </li>
                <li class="nav-item dropdown">

                    <a class="nav-link dropdown-toggle" href="#" role="button" id="dropdownMenuLink"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Dispatch Coordinator</a>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                        <li><a class="dropdown-item">Dispatch Creation</a></li>
                        <li><a class="dropdown-item" href="#">Dispatch Updation</a></li>
                        <li><a class="dropdown-item" href="#">Status Updation</a></li>
                        <li><a class="dropdown-item" href="#">Dispatch Cancellation</a></li>
                        <li><a class="dropdown-item" href="#">Reschedule Dispatch</a></li>
                        <li><a class="dropdown-item" href="module1.html">Task Duration</a></li>
                        <li><a class="dropdown-item" href="#">Hold Dispatch</a></li>
                    </ul>


                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Appointment Coordinator</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Dispatch Jobs</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">SFS Manager</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">CGS Appointment Manager</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Videos</a>
                </li>
            </ul>
        </div>
    </nav>


    <div class="container-fluid blackboard chalk-text">
        <div class="container-fluid blackboard">
            <h3 class="chalk-text">Task Duration<i class="fas fa-chalkboard"></i></h3>
            <p class="chalk-text small">Delta Derivation</p>
            <div class="row">
                <div class="col-md-3"></div>
                <div class="col-md-6 text-center">

                    <h4>Video on Ready Dispatch</h4>
                    <video width="560" height="315" controls>
                        <source src="Hamaad KT_ Dispatch Coordinator_Delta Derivation.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>

                </div>
            </div>
            <br>
            <div class="row">
                <div class="col-md-12">
                    <div class="card">
                        <div class="card-header blackboard">
                            Code Walkthrough Steps
                        </div>
                        <div class="card-body text-black">
                            <p>
                                <b class="py-6">TaskDurationRouteBuilder</b>
                                <br /><br />

                            <div class="cmd-box">
                                <div class="cmd-header">
                                    <span class="text-left">CMD</span><button class="float-right btn btn-link smallfont"
                                        onclick="copyCode()">Copy Code</button>
                                </div>

                                <i class="cmd-text">
                                    code
                                    "&lt;YOUR_PROJECT_FOLDER&gt;/DispatchTaskDuration/src/main/java/com/centurylink/cgs/dispatchtaskduration/route/TaskDurationRouteBuilder.java"
                                </i>
                            </div>
                            <br>

                            Java class named <b>TaskDurationRouteBuilder</b> that extends the <b>RouteBuilder</b>
                            class from the Apache Camel framework. This class is used to define routes for handling
                            HTTP requests and processing data.
                            The <b>configure</b> method is where the routes are defined. It starts by setting up
                            logging for all routes using the <b>interceptFrom</b> and <b>onCompletion</b> methods.
                            These log the start and end of each exchange, respectively.
                            Next, it sets up exception handling for <b>CannotGetJdbcConnectionException</b>,
                            <b>BadSqlGrammarException</b>, and <b>SQLException</b> exceptions. If any of these
                            exceptions occur,
                            it logs the exception, marks it as handled, processes it with the
                            <b>Http500DatabaseErrorProcessor</b>, and then logs the response.
                            The <b>restConfiguration</b>restConfiguration method is used to configure the REST DSL. It
                            sets the component to
                            "servlet", the binding mode to JSON, and enables pretty printing of JSON.
                            Then, it loads properties from an <b>app.properties</b>app.properties file and sets them on
                            the Camel
                            context.
                            The <b>rest("/duration")</b>rest("/duration") method is used to define a REST API with the
                            base path
                            "/duration". It sets up three GET endpoints: "/version", "/healthz", and "/". The
                            "/version" and "/healthz" endpoints are routed to "direct:versionRoute" and
                            "direct:healthRoute", respectively. The "/" endpoint is used to fetch task duration
                            data. It takes a number of query parameters, validates them with the <b>InputValidation</b>
                            processor, and then processes them with the <b>FetchTaskDurationProcess</b> processor if
                            they
                            are valid.
                            Finally, it defines two routes for "direct:versionRoute" and "direct:healthRoute". These
                            routes process the exchange with the <b>VersionProcessor</b> and <b>HealthProcessor</b>,
                            respectively,
                            and then set the content type of the response to "application/json".
                            has context menu. <br /><br />


                            <div class="cmd-box">
                                <div class="cmd-header">
                                    <span class="text-left">Copilot</span><button
                                        class="float-right btn btn-link smallfont" onclick="copyCode()">Copy
                                        Code</button>
                                </div>

                                <i class="cmd-text">
                                    What is the purpose of the <b>VersionProcessor</b> and <b>HealthProcessor</b>
                                    classes in the code?
                                </i>
                            </div>
                            <br>

                            The <b>VersionProcessor</b> and <b>HealthProcessor</b> classes in the code are likely to be
                            custom processor classes that handle specific processing tasks in the Camel route.
                            <b>VersionProcessor</b>: This class is likely used to handle requests to the "/version"
                            endpoint. It might be responsible for returning information about the current version of the
                            application or service. This could include the version number, build date, commit hash, or
                            any other information that is relevant to the version of the application.
                            <b>HealthProcessor</b>: This class is likely used to handle requests to the "/healthz"
                            endpoint. It might be responsible for performing a health check of the application or
                            service and returning a status indicating whether the application is running correctly. This
                            could involve checking the status of various components of the application, such as the
                            database, external services, or internal processes.
                            These processors are used in the Camel routes defined in the <b>TaskDurationRouteBuilder</b>
                            class. When a request is made to the "/version" or "/healthz" endpoint, the corresponding
                            processor is invoked to handle the request. The processor performs its specific task and
                            then modifies the exchange (the message being processed) as needed, such as by setting the
                            response body or headers.<br><br>
                            <div class="cmd-box">
                                <div class="cmd-header">
                                    <span class="text-left">Copilot</span><button
                                        class="float-right btn btn-link smallfont" onclick="copyCode()">Copy
                                        Code</button>
                                </div>

                                <i class="cmd-text">
                                    What is the purpose of the <b>Http500DatabaseErrorProcessor</b> class in the code?
                                </i>
                            </div>
                            <br>
                            The <b>Http500DatabaseErrorProcessor</b> class is likely a custom processor that handles
                            specific types of database exceptions in your Apache Camel routes.
                            When an exception of type <b>CannotGetJdbcConnectionException</b>,
                            <b>BadSqlGrammarException</b>, or <b>SQLException</b> is thrown during the execution of a
                            route, the<b> onException</b> clause in your route definition specifies that the
                            <b>Http500DatabaseErrorProcessor</b> should handle it.
                            The purpose of this class is to process the exception and prepare an appropriate HTTP 500
                            error response. This might involve logging the error, formatting a user-friendly error
                            message, and setting the HTTP status code to 500.
                            After the <b>Http500DatabaseErrorProcessor</b> has processed the exception, the<b>
                                marshal().json(JsonLibrary.Jackson, true)</b> call is used to serialize the response
                            body to JSON format. The response is then logged and returned to the client.
                            Remember, the exact behavior of the <b>Http500DatabaseErrorProcessor</b> depends on its
                            implementation, which is not shown in the provided code.<br><br>

                            <div class="cmd-box">
                                <div class="cmd-header">
                                    <span class="text-left">Copilot</span><button
                                        class="float-right btn btn-link smallfont" onclick="copyCode()">Copy
                                        Code</button>
                                </div>

                                <i class="cmd-text">
                                    What is the purpose of the <b>InputValidation</b> processor in the<b>
                                        TaskDurationRouteBuilder</b> class?
                                </i>
                            </div>
                            <br><br The <b>InputValidation</b> processor in the <b> TaskDurationRouteBuilder</b> class
                            is likely used to validate the input parameters of the HTTP GET request to the "/duration"
                            endpoint.
                            In the route definition for the "/duration" endpoint, the <b>InputValidation</b> processor
                            is invoked before the <b> FetchTaskDurationProcess</b> processor. This suggests that the
                            <b>InputValidation</b> processor is responsible for checking the validity of the input
                            parameters.
                            The <b>choice().when().simple("${property.isInputValid}")</b> statement then checks a
                            property named <b> isInputValid</b>. If this property is true, the <b>
                                FetchTaskDurationProcess</b> processor is invoked to fetch the task duration. If
                            <b>isInputValid</b> is false, the route ends, and presumably an error response is returned
                            to the client.
                            The exact validation rules implemented by the <b> InputValidation</b> processor are not
                            shown in the provided code. These could include checks for required parameters, checks for
                            parameter formats, or any other validation rules that are relevant to the "/duration"
                            endpoint.<br><br>

                            Fetch Task Duration
                            <br><br>
                            <div class="cmd-box">
                                <div class="cmd-header">
                                    <span class="text-left">Copilot</span><button
                                        class="float-right btn btn-link smallfont" onclick="copyCode()">Copy
                                        code</button>
                                </div>

                                <i class="cmd-text">
                                    .get("/") /explain
                                </i>
                            </div>
                            <br><br>
                            <div class="cmd-box">
                                <div class="cmd-header">
                                    <span class="text-left">Copilot</span><button
                                        class="float-right btn btn-link smallfont" onclick="copyCode()">Copy
                                        code</button>
                                </div>

                                <i class="cmd-text">
                                    What is the purpose of the FetchTaskDurationProcess processor in the
                                    TaskDurationRouteBuilder class?
                                </i>
                            </div>
                            <br><br>
                            <div class="cmd-box">
                                <div class="cmd-header">
                                    <span class="text-left">Copilot</span><button
                                        class="float-right btn btn-link smallfont" onclick="copyCode()">Copy
                                        code</button>
                                </div>

                                <i class="cmd-text">
                                    What is the purpose of the VersionProcessor class in the TaskDurationRouteBuilder
                                    class?
                                </i>
                            </div>
                            <br><br>
                            <div class="cmd-box">
                                <div class="cmd-header">
                                    <span class="text-left">Copilot</span><button
                                        class="float-right btn btn-link smallfont" onclick="copyCode()">Copy
                                        code</button>
                                </div>

                                <i class="cmd-text">
                                    What is the purpose of the HealthProcessor class in the TaskDurationRouteBuilder
                                    class?
                                </i>
                            </div>
                            <br><br>
                            <div class="cmd-box">
                                <div class="cmd-header">
                                    <span class="text-left">Copilot</span><button
                                        class="float-right btn btn-link smallfont" onclick="copyCode()">Copy
                                        code</button>
                                </div>

                                <i class="cmd-text">
                                    What is the purpose of the Database object in the FetchTaskDurationProcess class?
                                </i>
                            </div>
                            <br><br>
                            <div class="cmd-box">
                                <div class="cmd-header">
                                    <span class="text-left">Copilot</span><button
                                        class="float-right btn btn-link smallfont" onclick="copyCode()">Copy
                                        code</button>
                                </div>

                                <i class="cmd-text">
                                    What are the different types of exceptions that the Http500DatabaseErrorProcessor
                                    handles in the TaskDurationRouteBuilder class?
                                </i>
                            </div>
                            <br><br>
                            <div class="cmd-box">
                                <div class="cmd-header">
                                    <span class="text-left">Copilot</span><button
                                        class="float-right btn btn-link smallfont" onclick="copyCode()">Copy
                                        code</button>
                                </div>

                                <i class="cmd-text">
                                    What is the purpose of the restConfiguration method in the TaskDurationRouteBuilder
                                    class?
                                </i>
                            </div>
                            <br><br>
                            <div class="cmd-box">
                                <div class="cmd-header">
                                    <span class="text-left">Copilot</span><button
                                        class="float-right btn btn-link smallfont" onclick="copyCode()">Copy
                                        code</button>
                                </div>

                                <i class="cmd-text">
                                    What is the purpose of the route() method in the TaskDurationRouteBuilder class?
                                </i>
                            </div>
                            <br><br>
                            <div class="cmd-box">
                                <div class="cmd-header">
                                    <span class="text-left">Copilot</span><button
                                        class="float-right btn btn-link smallfont" onclick="copyCode()">Copy
                                        code</button>
                                </div>

                                <i class="cmd-text">
                                    What is the purpose of the route() method in the TaskDurationRouteBuilder class?
                                </i>
                            </div>

                            <br><br>
                            <div class="cmd-box">
                                <div class="cmd-header">
                                    <span class="text-left">Copilot</span><button
                                        class="float-right btn btn-link smallfont" onclick="copyCode()">Copy
                                        code</button>
                                </div>

                                <i class="cmd-text">
                                    What is the purpose of the .marshal().json(JsonLibrary.Jackson, true) call in the
                                    TaskDurationRouteBuilder class?
                                </i>

                            </div>
                            <br><br>
                            <div class="cmd-box">
                                <div class="cmd-header">
                                    <span class="text-left">Copilot</span><button
                                        class="float-right btn btn-link smallfont" onclick="copyCode()">Copy
                                        code</button>
                                </div>

                                <i class="cmd-text">
                                    What is the purpose of the .responseMessage() method in the TaskDurationRouteBuilder
                                    class? </i>

                                
                            </div>
                            <br><br>
                            <div class="cmd-box">
                                <div class="cmd-header">
                                    <span class="text-left">Copilot</span><button
                                        class="float-right btn btn-link smallfont" onclick="copyCode()">Copy
                                        code</button>
                                </div>

                                <i class="cmd-text">
                                    What is the purpose of the .route() method in Apache Camel's DSL?

                                </i>
                            </div>
                            <br><br>
                            <div class="cmd-box">
                                <div class="cmd-header">
                                    <span class="text-left">Copilot</span><button
                                        class="float-right btn btn-link smallfont" onclick="copyCode()">Copy
                                        code</button>
                                </div>

                                <i class="cmd-text">
                                    What is the purpose of the .endResponseMessage() method in the TaskDurationRouteBuilder class?
                                </i>
                            </div>
                            </p>



                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer fixed-bottom bg-light">
        <div class="container text-center">
            <span class="text-muted">Created for Github Copilot Challenge</span>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.min.js"></script>
    <script>
        function copyCode() {
            // JavaScript function to copy the code
            var code = document.querySelector('.cmd-box i');
            navigator.clipboard.writeText(code.innerText);
            alert('Code copied to clipboard!');
        }
    </script>

</html>